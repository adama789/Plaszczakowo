@using ProblemVisualizer


<div class="graph_visualizer_player">
    <GraphCanvas 
        CanvasHeight="1920"
        CanvasWidth="1080"
        EnableZoom="true"
        Data="Snapshots.GetCurrentSnapshot()"
        @ref="_canvas" />
    
    <div class="graph_visualizer_player__buttons">
        <button @onclick="OnStartClick">
            <Icon Name="fa-backward-step" />
        </button>
        <button @onclick="OnPrevClick">
            <Icon Name="fa-backward" />
        </button>
        <div class="graph_visualizer_player__buttons__stats">
            <p>
                Slajd @(Snapshots.GetCurrentSnapshotId() + 1) na @Snapshots.Count
            </p>
        </div>        
        <button @onclick="OnNextClick">
            <Icon Name="fa-forward" />
        </button>
        <button @onclick="OnEndClick">
            <Icon Name="fa-forward-step" />
        </button>
    </div>
</div>


@code {
    [Parameter] 
    public required ProblemVisualizerSnapshots<GraphDrawer.GraphData> Snapshots { get; set; }

    private GraphCanvas? _canvas;
    
    protected override void OnInitialized()
    {
    }

    private void OnStartClick()
    {
        _canvas!.Data = Snapshots.GoStart();
    }

    private void OnPrevClick()
    {
        _canvas!.Data = Snapshots.Back();
    }

    private void OnNextClick()
    {
        _canvas!.Data = Snapshots.Next();
    }

    private void OnEndClick()
    {
        _canvas!.Data = Snapshots.GoEnd();
    }

}